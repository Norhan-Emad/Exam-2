<section>
  <div class="container main-margin main-padding" *ngIf="cartData;else i">
  <div class="d-flex justify-content-between align-items-center" >
      <h2>Cart Shop</h2>
      <button type="button" class="btn btn-primary text-white" [routerLink]="['/payment' , cartData._id]" *ngIf="cartData.products.length>=1" >Check Out</button>
    </div>
    <div class="d-flex justify-content-between align-items-center">
      <h4>total price: <span class="text-main">{{cartData.totalCartPrice | currency: " "}} EGP</span></h4>
      <h4>total number of items: <span class="text-main" >{{cartData.products.length}}</span></h4>
    </div>
    <div>
      <div class="row d-flex justify-content-between align-items-center border-bottom py-2 " *ngFor="let item of cartData.products">
            <div class="col-md-2">
            <div class="right ">
              <div class="image">
                <img [src]='item.product.imageCover' alt="image" class="w-100">
              </div>
            </div>
          </div>
          <div class="col-md-10">
            <div class="left d-flex justify-content-between align-items-center">
              <div class="title">
                <h5>{{item.product.title}}</h5>
                <h6>{{item.price}}</h6>
                <button class="text-danger btn" type="button" (click)="remove(item.product._id)"><i class="fa-solid fa-trash"></i> Remove</button>
              </div>
              <div class="count d-flex justify-content-center align-items-center">
                <button type="button" class="btn border-success btn-sm" (click)="changeCount(item.product._id,item.count+1)">+</button>
                <h5 class="text-main mx-2">{{item.count}}</h5>
                <button type="button" class="btn border-success btn-sm" (click)="changeCount(item.product._id ,item.count-1)">-</button>
              </div>
            </div>
          </div>
      </div>
    </div>

  </div>
  <ng-template #i>
    <div class="container my-5 py-5">
      <h1 class="fw-bolder mb-3">Cart Shop</h1>
      <h2 class="fw-bolder">your cart is empty</h2>
    </div>
  </ng-template>
</section>
